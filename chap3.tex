\def\qed{\hfill \vrule height6pt width 6pt depth 0pt}
\chapter{炉石传说基本规则}
\label{section:HearthstoneRule}

《炉石传说：魔兽英雄传》，简称“炉石传说”，是由暴雪娱乐推出的一款免费线上卡牌游戏。
炉石传说的世界观依托于暴雪推出的另一款经典游戏《魔兽世界》，将魔兽世界中的英雄、职业及其对应的法术技能变成了炉石传说中的卡牌。
炉石传说包括多种游戏模式，有构筑模式、单人模式、竞技场模式和乱斗模式，而本论文只考虑其中的构筑模式。

在构筑模式中，玩家可以使用自己预先构筑好的卡组来匹配对手，进行游戏。
玩家在选定卡组对应的英雄职业后，可以在该英雄的所有职业专属卡和中立卡之中精心挑选，构成一副由30张卡牌组成的卡组。
每副卡组中，同种的卡牌最多只能存在两张。除此之外，稀有等级为“传说”的卡牌，一种最多只能存在一张。
“传说”卡牌为炉石传说中稀有度最高的卡牌，与其他卡牌相比也有着强得多的效果。

炉石传说的完整游戏规则是十分复杂的，考虑到现存的~743~张卡牌大多数都能够在一定程度上改变游戏的规则，卡牌与卡牌之间的组合更是可以让游戏千变万化。
其中尤以“传说”卡牌为甚。“传说”卡牌的效果多为随机效果，运气的好坏很可能直接决定玩家最终会赢还是输。
图~\ref{fig:1}~为炉石传说中一张很经典的传说卡牌，炎魔之王拉格纳罗斯。
不难想象，玩家花费大量费用召唤出拉格纳罗斯以后，其随机攻击目标的价值将直接决定玩家此次召唤是否值得。
除此之外，不同卡组之间的强度存在着本质的区别，使用不同的卡组进行测试可能导致实验结果产生差异。
因此，本论文的实验只保留炉石传说最基本的规则，并选取部分具有代表性的卡牌组成一副固定的测试卡组进行测试。

\begin{figure}[!h]
\centering
\includegraphics[width=2.5in]{img/Fig3-1.png}
\caption{炎魔之王拉格纳罗斯}
\label{fig:1}
\end{figure}

炉石传说的一局对局由两名相互敌对的玩家构成。
一名玩家所拥有的游戏实体包括英雄、英雄能力、英雄武器、法力水晶、手牌、牌堆以及在场的随从。
图~\ref{fig:2}~给出了炉石传说对弈局面的基本表示。

\begin{figure}[!ht]
\centering
\includegraphics[width=4in,height=6in]{img/Fig3-2.png}
\caption{炉石传说局面基本表示}
\label{fig:2}
\end{figure}

双方的目标均是将对方英雄的生命值下降至0以下，英雄生命值首先到达0以下的玩家输掉对局，两名英雄的生命值同时到达0以下则双方都输掉对局。
炉石传说的对局采用回合轮换制，两名玩家先后轮流地进入自己的回合。
玩家只能在自己的回合中进行操作，当进入对方的回合时则无法进行任何操作。

在对局开始时会随机决定两名玩家的先后手。
先手玩家可以抽3张牌，并在这3张牌中选择任意的牌将其重新洗入牌堆，再抽牌直到手中有3张牌作为自己的起始手牌。
后手玩家则可以在对局开始时抽4张牌，并在进行同样的选牌过程后将其作为自己的起始手牌。
同时，后手玩家还会额外获得一张“硬币”卡\footnote{硬币：0费用法术卡，使玩家当前回合的法力值+1}。
随后，对局先从先手玩家的回合开始。

在对局中两名玩家都会拥有各自的法力水晶。
双方在对局开始前均不拥有任何法力水晶，但每次回合开始时，玩家均获得一枚额外的法力水晶。
法力水晶的数量代表着玩家在每个回合可支配的法力数。
每一张卡牌都有着其对应的法力消耗，玩家使用卡牌将会消耗对应数量的法力值。通常消耗越大的卡牌会有着越强的效果。

在玩家的回合开始时，玩家从牌堆中抽一张牌，且所有法力水晶将重新充满。
如果玩家的牌堆已经被抽空，那么玩家将会在每次试图抽卡时受到疲劳伤害。
疲劳伤害从~1~点伤害开始，每次玩家试图抽卡，疲劳伤害都会向上递增（~2~点、~3~点、~4~点\ldots）。
除此之外，玩家的手中最多容纳~10~张牌。当手牌数达到上限后，玩家从牌堆中抽出的卡都将被直接烧毁（消失）。
因此，根据对方卡组的策略适当控制抽卡次数也是很重要的决策。
在炉石传说中便存在着名为“爆牌贼”的盗贼卡组。该卡组最主要的策略是通过大量触发对手的抽牌动作，烧毁对手牌堆中大部分的卡牌，
并最终令对手死于疲劳伤害。

进入己方回合后，玩家即可任意进行操作，包括使用卡牌、命令随从和英雄攻击以及使用英雄能力。
不同的卡牌有着不同的效果。按类别来分的话，可以分为法术卡、随从卡和武器卡，分别可用于使用法术、召唤随从或为英雄装备武器以进行攻击。
正如前文所说，消耗越大的卡牌意味着越强的效果，也就是越强的法术、越强的随从和越强的武器。

\begin{figure}[!ht]
\centering
\includegraphics[width=2.5in]{img/Fig3-3a.png}
\includegraphics[width=2.5in]{img/Fig3-3c.png}
\caption{炉石传说卡牌基本信息}
\label{fig:3}
\end{figure}

图~\ref{fig:1}~与图~\ref{fig:3}~给出了炉石传说中三类卡牌的实例。其中，图~\ref{fig:1}~给出的“炎魔之王拉格纳罗斯”为随从卡，使用随从卡可以召唤对应的随从。
每张随从卡都包含五个基本信息：位于牌面中部的随从名称、位于牌面左上角的法力消耗~$C$~、位于牌面左下角的攻击力~$A$~、位于牌面右下角的生命值~$H$~和位于牌面下侧中部的效果描述。
在接下来的内容中，若未加额外说明，随从将用~$C/A/H$~来表示。若法力消耗本身无关紧要时，也可能直接表示为~$A/H$。

图~\ref{fig:3}~的左图给出的“鹰角弓”为武器卡，使用武器卡可为己方英雄装备对应的武器。每张武器卡同样包含五个基本信息，但位于牌面右下角的是武器的耐久度~$D$。
在一般状态下，英雄的攻击力为~$0$，无法进行攻击。英雄装备武器后，英雄将获得武器的攻击力加成，并可以进行攻击。在每次攻击后，武器都会失去~$1$~点耐久度。
当耐久度为~$0$~时，武器将会损毁，英雄本身也将扣除对应的攻击力。除了武器以外，少部分法术同样可以提高英雄的攻击力。
同样，武器可以被表示为~$C/A/D$~或~$A/D$。

图~\ref{fig:3}~的右图给出了名为“冰冻陷阱”的法术卡。法术卡只包含名称、法力消耗和效果三个信息，使用法术卡可以施放对应的法术。
除此之外，“冰冻陷阱”为奥秘卡。使用奥秘卡可以为我方设置一个奥秘。奥秘会在敌方回合时激活，并在满足特定条件时触发。

在命令随从和英雄进行攻击时，可以对对方的随从或是英雄进行攻击。当攻击对方攻击力不为0的随从时，攻击的随从或英雄会受到对方随从的反击，受到与目标随从攻击力等同的伤害。
随从在生命值下降到0以下时会死亡。考虑到一名玩家同时只能控制7个随从，当达到上限时将无法召唤更多的随从，因此适当地牺牲随从也有一定的战略意义。
通常来讲，同一个英雄或随从在一个回合中都只能攻击一次，合理地选择它们各自的攻击目标和顺序也可能带来截然不同的战术收益。

英雄能力的使用同样需要消耗一定的法力，且通常每回合只能使用一次。
与卡牌不同的是，卡牌在使用过后便会消失，某一张卡牌在一场对局中可用的次数是有限的，而英雄能力在整场对局中的使用次数则是没有限制的。

图~\ref{fig:4}~给出了炉石传说中一个回合的基本流程。

\begin{figure}[!ht]
\centering
\includegraphics[width=5in,height=5in]{img/Fig3-4.jpg}
\caption{炉石传说基本流程}
\label{fig:4}
\end{figure}

